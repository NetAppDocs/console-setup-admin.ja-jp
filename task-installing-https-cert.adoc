---
sidebar: sidebar 
permalink: task-installing-https-cert.html 
keywords: https certificate, certificate, adding, installing, ca, certificate authority, format, encoding, restricted mode, access 
summary: NetAppコンソールを制限モードで使用する場合は、Web ベースのコンソールへのユーザー アクセス用に CA 署名付き証明書をインストールします。 
---
= Webベースのコンソールアクセス用にCA署名証明書をインストールする
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetAppコンソールを制限モードで使用する場合、クラウド リージョンまたはオンプレミスに展開されているコンソール エージェント仮想マシンからユーザー インターフェイスにアクセスできます。デフォルトでは、コンソールは自己署名 SSL 証明書を使用して、コンソール エージェント上で実行されている Web ベースのコンソールへの安全な HTTPS アクセスを提供します。

ビジネスで必要な場合は、証明機関 (CA) によって署名された証明書をインストールできます。これにより、自己署名証明書よりも優れたセキュリティ保護が提供されます。証明書をインストールすると、ユーザーが Web ベースのコンソールにアクセスするときに、コンソールは CA 署名付き証明書を使用します。



== HTTPS証明書をインストールする

コンソール エージェント上で実行されている Web ベースのコンソールに安全にアクセスするために、CA によって署名された証明書をインストールします。

.タスク概要
次のいずれかのオプションを使用して証明書をインストールできます。

* コンソールから証明書署名要求 (CSR) を生成し、証明書要求を CA に送信して、CA 署名証明書をコンソール エージェントにインストールします。
+
コンソールが CSR を生成するために使用するキー ペアは、コンソール エージェントに内部的に保存されます。コンソール エージェントに証明書をインストールすると、コンソールは同じキー ペア (秘密キー) を自動的に取得します。

* すでに持っている CA 署名付き証明書をインストールします。
+
このオプションを選択すると、CSR はコンソールを通じて生成されません。 CSR を別途生成し、秘密鍵を外部に保存します。証明書をインストールするときに、コンソールに秘密キーを提供します。



.手順
. *管理 > エージェント*を選択します。
. *概要*ページで、コンソール エージェントのアクション メニューを選択し、*HTTPS セットアップ*を選択します。
+
編集するには、コンソール エージェントがアクティブである必要があります。

. HTTPS セットアップ ページで、証明書署名要求 (CSR) を生成するか、独自の CA 署名証明書をインストールして、証明書をインストールします。
+
[cols="25,75"]
|===
| オプション | 説明 


| CSRを生成する  a| 
.. コンソール エージェント ホストのホスト名または DNS (共通名) を入力し、[CSR の生成] を選択します。
+
コンソールに証明書署名要求が表示されます。

.. CSR を使用して、SSL 証明書要求を CA に送信します。
+
証明書には、Privacy Enhanced Mail (PEM) Base-64 エンコード X.509 形式を使用する必要があります。

.. 証明書ファイルをアップロードし、[インストール] を選択します。




| 独自のCA署名証明書をインストールする  a| 
.. *CA 署名証明書のインストール*を選択します。
.. 証明書ファイルと秘密キーの両方をロードし、[インストール] を選択します。
+
証明書には、Privacy Enhanced Mail (PEM) Base-64 エンコード X.509 形式を使用する必要があります。



|===


.結果
コンソール エージェントは、CA 署名証明書を使用して安全な HTTPS アクセスを提供するようになりました。次の画像は、安全なアクセス用に構成されたエージェントを示しています。

image:screenshot_https_cert.gif["スクリーン ショット: 署名された証明書をインストールした後の HTTPS セットアップ ページを表示します。このページには、証明書のプロパティと証明書を更新するためのオプションが表示されます。"]



== コンソールのHTTPS証明書を更新する

安全なアクセスを確保するには、エージェントの HTTPS 証明書が期限切れになる前に更新する必要があります。証明書の有効期限が切れる前に更新しないと、ユーザーが HTTPS を使用して Web コンソールにアクセスしたときに警告が表示されます。

.手順
. *管理 > エージェント*を選択します。
. *概要*ページで、コンソール エージェントのアクション メニューを選択し、*HTTPS セットアップ*を選択します。
+
有効期限を含む証明書の詳細が表示されます。

. *証明書の変更*を選択し、手順に従って CSR を生成するか、独自の CA 署名証明書をインストールします。

